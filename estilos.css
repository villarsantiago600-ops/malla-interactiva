:root{
  --bg:#081120;
  --panel:#0c1a33;
  --panel-2:#0e2247;
  --text:#e9f1ff;
  --muted:#a6b7d4;
  --blue:#1e7bff;
  --blue-2:#0a53d1;
  --blue-10:rgba(30,123,255,.10);
  --blue-20:rgba(30,123,255,.20);
  --stroke:#28497f;
  --good:#20d39b;
  --edge:#5f6f90;
}

/* Reset básico */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(1200px 600px at 20% -10%, #0d1b36 0%, var(--bg) 60%);
  color:var(--text);
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
}

.topbar{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px clamp(12px,3vw,28px);
  background:linear-gradient(180deg, rgba(8,17,32,.95), rgba(8,17,32,.70));
  border-bottom:1px solid rgba(255,255,255,.06);
  backdrop-filter: blur(6px);
}
.topbar h1{font-size:clamp(16px,2.2vw,22px); margin:0}
.actions{display:flex; gap:10px; align-items:center}
.actions button, .actions .importer span{
  background:var(--blue);
  border:1px solid var(--blue-2);
  color:#fff; padding:8px 12px; border-radius:10px; cursor:pointer;
  font-weight:600; letter-spacing:.2px;
  box-shadow: 0 6px 16px rgba(14,94,255,.25);
}
.actions button:hover, .actions .importer span:hover{filter:brightness(1.05)}
.actions .importer{display:inline-block}
.actions .importer span{display:inline-block}

#board{
  position:relative;
  padding:18px clamp(10px,2vw,24px) 60px;
  min-height:calc(100vh - 120px);
}

/* SVG para aristas */
#edges{
  position:absolute; inset:0; width:100%; height:100%;
  pointer-events:none;
}

/* Grid por semestres */
#semesters{
  position:relative;
  display:grid;
  grid-template-columns: repeat(10, minmax(230px, 1fr));
  gap:18px;
  align-items:start;
  z-index:1; /* por encima de las líneas */
}

/* Columna (semestre) */
.semester{
  background:linear-gradient(180deg, var(--panel), var(--panel-2));
  border:1px solid rgba(255,255,255,.06);
  border-radius:14px;
  padding:12px;
  box-shadow: 0 12px 28px rgba(0,0,0,.25);
  min-height:220px;
}
.semester h2{
  margin:2px 4px 8px;
  font-size:15px; font-weight:700; color:#cfe0ff; letter-spacing:.3px;
}

/* Lista de ramos en cada semestre */
.courses{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
}

/* Tarjeta de ramo */
.course{
  position:relative;
  border:2px dashed var(--stroke);
  background:linear-gradient(180deg, rgba(30,123,255,.06), rgba(30,123,255,.03));
  color:var(--text);
  border-radius:12px;
  padding:10px 12px 12px 12px;
  cursor:pointer;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease, opacity .2s ease;
  user-select:none;
}
.course .title{font-weight:700; font-size:14px; line-height:1.2}
.course .meta{margin-top:6px; color:var(--muted); font-size:12px}
.course .badge{
  position:absolute; top:8px; right:8px;
  font-size:11px; font-weight:700; padding:2px 6px; border-radius:999px;
  border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.06);
}
.course:hover{transform:translateY(-1px); box-shadow:0 8px 18px rgba(0,0,0,.25)}

/* Estados */
.course.available{
  border-style:solid; border-color:var(--blue);
  background: var(--blue-10);
}
.course.done{
  border-style:solid; border-color:var(--blue);
  background:linear-gradient(180deg, var(--blue), var(--blue-2));
  color:#fff;
  box-shadow: 0 12px 30px rgba(30,123,255,.35);
}
.course.done .meta{color:#eaf2ff}
.course.locked{
  opacity:.55;
  cursor:not-allowed;
  filter:saturate(.8);
}

/* Check de aprobado */
.course .check{
  position:absolute; left:10px; top:-10px;
  width:22px; height:22px; border-radius:50%;
  background:#10213f; border:2px solid var(--stroke);
  display:flex; align-items:center; justify-content:center;
  font-size:12px; color:#7ba7ff;
  transform:scale(.95);
}
.course.available .check{border-color:var(--blue); color:var(--blue)}
.course.done .check{
  background:#0b1533; border-color:rgba(255,255,255,.8);
  color:#20e0a0; box-shadow:0 0 0 3px rgba(255,255,255,.08) inset;
}

/* Leyenda */
.legend{
  display:flex; gap:16px; align-items:center; justify-content:center;
  padding:14px; color:#c9d7f2; font-size:13px;
  border-top:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg, rgba(8,17,32,.55), rgba(8,17,32,.9));
}
.legend .dot{
  width:14px; height:14px; display:inline-block; margin-right:6px; border-radius:3px; border:2px solid;
}
.legend .available{ background:var(--blue-10); border-color:var(--blue) }
.legend .done{ background:var(--blue); border-color:var(--blue-2) }
.legend .locked{ background:transparent; border-color:var(--stroke) }

/* Estilos de aristas */
.edge{
  stroke:var(--edge); stroke-width:2; fill:none; stroke-linecap:round;
}
.edge.pending{ stroke-dasharray:6 6; opacity:.75 }
.edge.ok{ stroke:var(--blue); stroke-width:2.5 }

/* Responsive: apilado si la pantalla es angosta */
@media (max-width:1200px){
  #semesters{ grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); }
}
